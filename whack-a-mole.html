<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Whack A Mole</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 1rem;
      background: #f0f0f0;
    }
    #controls {
      margin-bottom: 1rem;
    }
    #holes {
      display: grid;
      grid-template-columns: repeat(3, 120px);
      gap: 15px;
      justify-content: center;
      margin: 0 auto;
    }
    .hole {
      width: 120px;
      height: 80px;
      background: #8B4513;         /* saddleâ€‘brown to match your mole base */
      border-radius: 60px / 40px;  /* oblong shape */
      position: relative;
      overflow: visible;           /* allow mole to show above rim */
      cursor: pointer;
    }
    .mole {
      position: absolute;
      bottom: 0;                   /* aligns mole base with hole rim */
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 100px;
      transition: bottom 0.2s ease-out;
      user-select: none;
      z-index: 10;                 /* sit above the hole */
    }
    .mole.hidden {
      bottom: -80px;               /* fully hidden below hole */
    }
    #score, #time {
      font-size: 1.2rem;
      margin: 0 1rem;
    }
    #start {
      padding: 0.5rem 1rem;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h2>Whack A Mole</h2>
  <div id="controls">
    Time left: <span id="time">30</span>s&nbsp;&nbsp;&nbsp;Score: <span id="score">0</span>
    <button id="start">Start</button>
  </div>
  <div id="holes"></div>

  <script>
    const holesEl = document.getElementById('holes');
    const scoreEl = document.getElementById('score');
    const timeEl  = document.getElementById('time');
    const startBtn= document.getElementById('start');
    let score = 0, timeLeft = 30, timerId, moleTimer;

    // Build 9 oblong holes
    for (let i = 0; i < 9; i++) {
      const hole = document.createElement('div');
      hole.className = 'hole';
      holesEl.appendChild(hole);
    }

    function showMole() {
      // remove any existing mole
      document.querySelectorAll('.hole .mole').forEach(m => m.remove());

      const holeEls = document.querySelectorAll('.hole');
      const idx = Math.floor(Math.random() * holeEls.length);

      const mole = document.createElement('img');
      mole.src = 'mole.png';
      mole.alt = 'mole';
      mole.className = 'mole';
      mole.classList.add('hidden');

      // on click, bump score and remove mole immediately
      mole.addEventListener('click', () => {
        score++;
        scoreEl.textContent = score;
        mole.remove();
      });

      holeEls[idx].appendChild(mole);

      // wait one frame then pop up
      requestAnimationFrame(() => {
        mole.classList.remove('hidden');
      });
    }

    function startGame() {
      score = 0;
      timeLeft = 30;
      scoreEl.textContent = 0;
      timeEl.textContent = 30;
      startBtn.disabled = true;

      showMole();
      moleTimer = setInterval(showMole, 800);

      timerId = setInterval(() => {
        timeLeft--;
        timeEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timerId);
          clearInterval(moleTimer);
          alert('Time up! Your score: ' + score);
          startBtn.disabled = false;
        }
      }, 1000);
    }

    startBtn.addEventListener('click', startGame);
  </script>
</body>
</html>
